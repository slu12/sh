// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/libs/gl-matrix-2/mat4 ../../../../../core/libs/gl-matrix-2/mat4f64 ../../lib/ComponentUtils ../../lib/Util ../../../../webgl/Util".split(" "),function(u,b,n,r,k,t,p){Object.defineProperty(b,"__esModule",{value:!0});b.generateRenderGeometryVisibleIndexRanges=function(a){return a.instanceParameters.hidden?[]:k.generateVisibleIndexRanges(a.instanceParameters.componentVisibilities,a.componentOffsets)};b.generateRenderGeometryHighlightRanges=function(a){return a.instanceParameters.hidden?
null:k.generateHighlightedIndexRanges(a.instanceParameters.componentVisibilities,a.instanceParameters.componentHighlights,a.componentOffsets)};b.doesRenderGeometryHaveHighlights=function(a){return a.instanceParameters.hidden?!1:k.hasHighlights(a.instanceParameters.componentVisibilities,a.instanceParameters.componentHighlights,a.componentOffsets)};b.isRenderGeometryHidden=function(a){return a.instanceParameters.hidden?!0:k.isAllHidden(a.instanceParameters.componentVisibilities,a.componentOffsets)};
b.drawArrays=function(a,c,h,e,d){a.drawArrays(c,h,e);d&&(d.drawCalls++,4===c&&(d.triangles+=e))};b.drawElements=function(a,c,h,e,d,f){var b=p.getBytesPerElement(h);a.drawElements(c,d,h,e*b);f&&(f.drawCalls++,4===c&&(f.triangles+=d))};b.drawArraysFaceRange=function(a,c,h,b,d){for(var f=0,e=0;e<c.length;e++){var g=c[e],m=g[0]+h,g=g[1]-g[0]+1,f=f+g;a.drawArrays(b,m,g)}d&&(d.drawCalls+=c.length,4===b&&(d.triangles=f/3))};b.drawElementsFaceRange=function(a,c,h,b,d,f){for(var e=p.getBytesPerElement(d),
g=0,m=0;m<c.length;m++){var l=c[m],k=l[0]+h,l=l[1]-l[0]+1,g=g+l;a.drawElements(b,l,d,k*e)}f&&(f.drawCalls+=c.length,4===b&&(f.triangles+=g/3))};b.acquireMaterials=function(a,c){var b=new Map;b.set(0,c.acquire(a,"color"));b.set(3,c.acquire(a,"depthShadowMap"));b.set(2,c.acquire(a,"normal"));b.set(1,c.acquire(a,"depth"));b.set(4,c.acquire(a,"highlight"));return b};b.releaseMaterials=function(a,c){c.release(a.id,"color");c.release(a.id,"depthShadowMap");c.release(a.id,"normal");c.release(a.id,"depth");
c.release(a.id,"highlight")};b.calculateTransformRelToOrigin=function(a,c,b){var e=a.origin.vec3;t.setMatrixTranslation3(q,-e[0],-e[1],-e[2]);n.mat4.multiply(c,q,a.transformation);b&&(n.mat4.invert(b,c),n.mat4.transpose(b,b))};var q=r.mat4f64.create()});